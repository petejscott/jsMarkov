<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	<title>jsMarkov</title>
	<script src="js/logger.js"></script>
	<style>
	@font-face {
		font-family: 'Roboto';
		font-style: normal;
		font-weight: 300;
		src: local('Roboto Light'), 
			local('Roboto-Light'), 
			url(fonts/Roboto-Light.woff) format('woff');
	}
	@font-face {
		font-family: 'Roboto';
		font-style: normal;
		font-weight: 400;
		src: local('Roboto Regular'), 
			local('Roboto-Regular'), 
			url(fonts/Roboto-Regular.woff) format('woff');
	}
	@media screen and (min-width: 480px) {	
		body main {
			width: 80vw;
		}
	}
	@media screen and (min-width: 800px) {
		html { font-size: 16px !important; }
		body main { 
			width: 60vw;
		}
	}
	@media screen and (min-width: 1024px) {
		body main {
			width: 80vw;
			flex-direction: row;
			justify-content: space-between;
		}
		body section#markovOutput {
			text-align: left;
			max-width: 30rem;
		}
	}
	
	html { 
		font-size: 14px; 
		transition: font-size 0.25s;
	}

	header { 
		background: #f6f6f6;
		padding: 1rem 0 0.5rem 0;
		margin-bottom: 2rem;
		text-align: center;
		border-bottom: 1px solid #f0f0f0;
	}

	footer { 
		background: #f6f6f6;
		padding: 1rem 0;
		margin-top: 2rem;
		text-align: center;
		border-top: 1px solid #f0f0f0;
		font-size: 0.8rem;
		color: #555;
	}

	body { 
		margin: 0;
		padding: 0;
		background: #fff;
		color:#111;
		font-family: Roboto, sans-serif;
		font-weight: 300;
		min-height: 100vh;
		width: 100vw;
		display: flex;
		flex-direction: column;
	}
	input, select { 
		font-size: 1em; 
		font-family: Roboto, sans-serif;
		font-weight: 300;
	}

	main { 
		margin: 0 auto;
		transition: all 0.2s;
		flex: 1 0 auto;	  
		width: 96vw;
		font-size: 0.9rem;
		
		display: flex;
		flex-direction: column;
		align-items: stretch;
		justify-content: flex-start;
	}

	section {
		padding: 0 0.5rem; 
		transition: all 0.25s;

		display: flex;
		align-items: center;
		padding-bottom: 1rem;
		margin-top: 1rem;
		border-bottom: 1px solid #ccc;
	}

	.workflow-name { 
		font-size: 3rem;
		margin: 0 2rem 0 0.5rem;
	}

	section#markovOutput { 
		text-align: center;
		font-size: 1.5rem;
		border-bottom-width: 0;
		align-self: center;
	}

	h1, h2 { 
		font-size: 1.5em;
		margin: 0;
		padding: 0 0 0.25rem 0;
		font-weight: 300;
	}
	h1 { font-size: 2em; }

	section[data-step] {
		transition: opacity 0.2s;
	}
	.disabled { 
		opacity: 0.1; 
	}
	.enabled { 
		color: #666;
		opacity: 1; 
	}
	section.current { 
		color: #111;
	}
	.current .workflow-name { 
		font-weight: 400;
	}

	label { 
		display:block; 
		margin: 1rem 0 0.25rem; 
		color: #888;
		font-size: 0.9em;
	}
	h2 + label { 
		margin-top: 0;
	}

	#selectedChainSize,
	#selectedNumberOfSentences { 
		color:#222;
	}
	input[type=range] {
		margin: 0;
	}
	input[type=range]::-moz-focus-outer {
		border: 0;
    }
	input::-webkit-file-upload-button {
		font-family: Roboto;
		font-size: 1rem;
		font-weight: 300;
	}

	</style>
</head>
<body>
  
	<header>
		<h1>jsMarkov</h1>
	</header>
  
	<main>
	
		<div class="steps-container">
		  <section data-step="1" class="enabled current">
			<div class="workflow-name">1</div>
			<div class="workflow-contents">
				<h2>Select a source text file</h2>
				<!--
				<label for="markovFileChooser">Choose from the following list</label>
				<select id="markovFileChooser">
					<option>My Man Jeeves, by P.G. Wodehouse</option>
					<option>XYZ</option>
				</select>
				<input type="button" value="Select" id="markovFileChooserSelector" />
				-->
				<label for="markovFile">Select a source file</label>
				<input id="markovFile" type="file" accept="text/plain" required="required"> 			
			</div>
		  </section>
		  
			<section data-step="2" class="disabled">
				<div class="workflow-name">2</div>
				<div class="workflow-contents">	 
					<h2>Build the Dictionary</h2>

					<label for="markovChainSize">Select a chain size <span id="selectedChainSize"></span></label>
					<input type="range" id="markovChainSize" min="1" max="4" value="2" />

					<label for="markovLoad">Then build the dictionary</label>
					<input type="button" value="Build Dictionary" id="markovLoad" /> <span class="dictStatus"></span>
				</div>
			</section>
		  
			<section data-step="3" class="disabled">
				<div class="workflow-name">3</div>
				<div class="workflow-contents">
					<h2>Generate Sentence</h2>
					
					<label for="markovNumberOfSentences">Number of sentences <span id="selectedNumberOfSentences"></span></label>
					<input type="range" id="markovNumberOfSentences" min="1" max="20" value="2" />
					
					<label for="markovSubmit">Ready? Let's get to it!</label>
					<input type="submit" value="Generate!" id="markovSubmit" />
				</div>
			</section>
		</div>
	  
		<section id="markovOutput"></section>

	</main>
  
	<footer>
		<p>&copy; 2014 <a href="http://www.teknine.com/">teknine.com</a>. Source code available on <a href="https://github.com/petejscott/jsMarkov">GitHub</a></p>
		<p>You might want to play with these: <a href="../test/markov_source/chekhov_1.txt">The Lady With The Dog and Other Stories (Anton Chekhov)</a>, <a href="../test/markov_source/grimmsfairytales.txt">Grimms' Fairy Tales (Brothers Grimm)</a>, <a href="../test/markov_source/mymanjeeves.txt">My Man Jeeves (P.G. Wodehouse)</a>, <a href="../test/markov_source/ulysses.txt">Ulysses (James Joyce)</a></p>
	</footer>

	<script src="js/markovWordsetBuilder.js"></script>
	<script src="js/markovGenerator.js"></script>
	<script src="js/markov.js"></script>
</body>
</html>
